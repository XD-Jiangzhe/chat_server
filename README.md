# chat_server
一个广播聊天服务器

三个版本：
  第一个版本 单io线程池，其中在发送信息的时候对 connectionlist 进行加锁，然后发送完解锁，这里有效率的瓶颈，因为下一个消息到来的时候无法获取连接列表，而要等待前面所有的消息发送完
  
  第二个版本：
  使用了shared_ptr来进行copy and write ，即如果引用计数为1， 则说明没有人在读这个connectionlist ，可以直接往里进行修改，而当引用计数 不为 1 的时候，将当前的这份 连接拷贝出去，开一个新的连接 然后对其进行修改
  
  第三个版本是；
  io线程池 ：
  每一个线程池都有一份自己的connectionlist ，自己管自己的，所以同一时间该线程只会对自己的进行加减 或者读操作，而不可能同时进行，所以这里就是线程安全的，而不用锁了。

